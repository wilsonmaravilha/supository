{% extends "base.html" %}

{% block scripts %}
    <script src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
    <script>
		var coordinatesToPlot = [
		    new google.maps.LatLng(-33.904616, 18.416605),
		    new google.maps.LatLng(-34.112373, 18.829536),
		    new google.maps.LatLng(-33.987210, 18.338585),
		    new google.maps.LatLng(-33.874976, 18.733063)
		];
		var gmarkers = [];
		var points = [];
		var infomessages = [
		    "Point A",
		    "Point B",
		    "Point C",
		    "Point D"
		]
		var map;

		function addInfoWindow(marker, message) {
		    var info = message;
		    
		    message = '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h1 id="firstHeading" class="firstHeading">Uluru</h1>'+
      '<div id="bodyContent">'+
      '<p><b>Uluru</b>, also referred to as <b>Ayers Rock</b>, is a large ' +
      'sandstone rock formation in the southern part of the '+
      'Northern Territory, central Australia. It lies 335&#160;km (208&#160;mi) '+
      'south west of the nearest large town, Alice Springs; 450&#160;km '+
      '(280&#160;mi) by road. Kata Tjuta and Uluru are the two major '+
      'features of the Uluru - Kata Tjuta National Park. Uluru is '+
      'sacred to the Pitjantjatjara and Yankunytjatjara, the '+
      'Aboriginal people of the area. It has many springs, waterholes, '+
      'rock caves and ancient paintings. Uluru is listed as a World '+
      'Heritage Site.</p>'+
      '<p>Attribution: Uluru, <a href="http://en.wikipedia.org/w/index.php?title=Uluru&oldid=297882194">'+
      'http://en.wikipedia.org/w/index.php?title=Uluru</a> '+
      '(last visited June 22, 2009).</p>'+
      '</div>'+
      '</div>';

		    var infoWindow = new google.maps.InfoWindow({
			content: message
		    });

		    google.maps.event.addListener(marker, 'click', function() {
			infoWindow.open(map, marker);
		    });
		}

		function drawPoints(coordinatesToPlot, infomessages) {
		    for (i = 0; i < coordinatesToPlot.length; i++) {
			var marker = new google.maps.Marker({
			    position: coordinatesToPlot[i],
			    map: map,
			    title: 'point ' + i
			});
			addInfoWindow(marker, infomessages[i])
		    }

		}

		function initialize() {
		    var map_canvas = document.getElementById('map_canvas');
		    var map_options = {
			center: new google.maps.LatLng(-33.987210, 18.558585),
			zoom: 8,
			mapTypeId: google.maps.MapTypeId.ROADMAP
		    }
		    map = new google.maps.Map(map_canvas, map_options);

		    infowindow = new google.maps.InfoWindow();

		}
		$(document).ready(function() {
		    initialize();
		    drawPoints(coordinatesToPlot, infomessages)
		});</script>
{% endblock %}

{% block base_content %}
  <body>
    <div id="map_canvas"></div>
  </body>
{% endblock %}
